<!DOCTYPE html>
<html lang="ru"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Функции в компьютере</title>
    <link rel="stylesheet" href="../articles/_styles.css">
    <link rel="stylesheet" href="../katex_style.css">
</head>
<body>
    <div class="main">
        <h1>Как компьютер считает различные функции</h1>
                <txt>
                    В математике есть очень много различных функций с различным смыслом. Но у компьютера есть доступ только к базовым 
                    арифметическим операциям (сложение, вычитание, умножение, деление). В этой статье я покажу и расскажу про все приёмы для 
                    их реализаций. Я буду писать код на <a href="https://www.rust-lang.org/">Rust</a>. <br>
                    Пусть <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span></span> - искомый корень, <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">a</span></span></span></span></span> - число, входящее в функцию
                </txt>
            <h2>Квадратный корень</h2>
            <h3>Метод половинного деления</h3>
                <txt>
                    Его смысл заключается в том, чтобы запереть число в некоторые рамки, а потом их сужать. Для начала можно взять рамки 
                    из 2 ближайших корней с натуральным результатом.<br>
                </txt>
                <txt>
                    Если <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>=</mo><mn>7</mn></mrow><annotation encoding="application/x-tex">a=7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">7</span></span></span></span></span>, тогда <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>=</mo><msqrt><mn>7</mn></msqrt></mrow><annotation encoding="application/x-tex">x=\sqrt{7}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1.04em; vertical-align: -0.1328em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.9072em;"><span class="svg-align" style="top: -3em;"><span class="pstrut" style="height: 3em;"></span><span class="mord" style="padding-left: 0.833em;"><span class="mord">7</span></span></span><span class="" style="top: -2.8672em;"><span class="pstrut" style="height: 3em;"></span><span class="hide-tail" style="min-width: 0.853em; height: 1.08em;"><svg width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.1328em;"><span class=""></span></span></span></span></span></span></span></span></span>. Очевидно, что <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mo>&lt;</mo><mn>7</mn><mo>&lt;</mo><mn>9</mn></mrow><annotation encoding="application/x-tex">4&lt;7&lt;9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6835em; vertical-align: -0.0391em;"></span><span class="mord">4</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6835em; vertical-align: -0.0391em;"></span><span class="mord">7</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">9</span></span></span></span></span> следовательно 
                    <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msqrt><mn>4</mn></msqrt><mo>&lt;</mo><msqrt><mn>7</mn></msqrt><mo>&lt;</mo><msqrt><mn>9</mn></msqrt>  <mo>⟺</mo>  <mn>2</mn><mo>&lt;</mo><msqrt><mn>7</mn></msqrt><mo>&lt;</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">
                        \sqrt{4}&lt;\sqrt{7}&lt;\sqrt{9}\iff 2&lt;\sqrt{7}&lt;3
                    </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1.04em; vertical-align: -0.1328em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.9072em;"><span class="svg-align" style="top: -3em;"><span class="pstrut" style="height: 3em;"></span><span class="mord" style="padding-left: 0.833em;"><span class="mord">4</span></span></span><span class="" style="top: -2.8672em;"><span class="pstrut" style="height: 3em;"></span><span class="hide-tail" style="min-width: 0.853em; height: 1.08em;"><svg width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.1328em;"><span class=""></span></span></span></span></span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1.04em; vertical-align: -0.1328em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.9072em;"><span class="svg-align" style="top: -3em;"><span class="pstrut" style="height: 3em;"></span><span class="mord" style="padding-left: 0.833em;"><span class="mord">7</span></span></span><span class="" style="top: -2.8672em;"><span class="pstrut" style="height: 3em;"></span><span class="hide-tail" style="min-width: 0.853em; height: 1.08em;"><svg width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.1328em;"><span class=""></span></span></span></span></span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1.04em; vertical-align: -0.1328em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.9072em;"><span class="svg-align" style="top: -3em;"><span class="pstrut" style="height: 3em;"></span><span class="mord" style="padding-left: 0.833em;"><span class="mord">9</span></span></span><span class="" style="top: -2.8672em;"><span class="pstrut" style="height: 3em;"></span><span class="hide-tail" style="min-width: 0.853em; height: 1.08em;"><svg width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.1328em;"><span class=""></span></span></span></span></span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">⟺</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6835em; vertical-align: -0.0391em;"></span><span class="mord">2</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1.04em; vertical-align: -0.1328em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.9072em;"><span class="svg-align" style="top: -3em;"><span class="pstrut" style="height: 3em;"></span><span class="mord" style="padding-left: 0.833em;"><span class="mord">7</span></span></span><span class="" style="top: -2.8672em;"><span class="pstrut" style="height: 3em;"></span><span class="hide-tail" style="min-width: 0.853em; height: 1.08em;"><svg width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.1328em;"><span class=""></span></span></span></span></span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">3</span></span></span></span></span>. У чисел можно взять среднее и проверить его, сузив возможные ответы.
                    <span><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mfrac><mrow><mn>2</mn><mo>+</mo><mn>3</mn></mrow><mn>2</mn></mfrac><mo>=</mo><mfrac><mn>5</mn><mn>2</mn></mfrac><mo>=</mo><mn>2.5</mn><mo separator="true">;</mo><mtext>&nbsp;</mtext><mn>2.</mn><msup><mn>5</mn><mn>2</mn></msup><mo>=</mo><mn>6.25</mn><mo>&lt;</mo><mn>7</mn></mrow><annotation encoding="application/x-tex">\frac{2+3}{2}=\frac{5}{2}=2.5; \ 2.5^2=6.25 &lt; 7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 2.0074em; vertical-align: -0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.3214em;"><span class="" style="top: -2.314em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">2</span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.677em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">2</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mord">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.686em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 2.0074em; vertical-align: -0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.3214em;"><span class="" style="top: -2.314em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">2</span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.677em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">5</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.686em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1.0585em; vertical-align: -0.1944em;"></span><span class="mord">2.5</span><span class="mpunct">;</span><span class="mspace">&nbsp;</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord">2.</span><span class="mord"><span class="mord">5</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8641em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6835em; vertical-align: -0.0391em;"></span><span class="mord">6.25</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">7</span></span></span></span></span></span>
                    Результат получился меньше 7, поэтому его можно подставить как меньший ограничитель. <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2.5</mn><mo>&lt;</mo><msqrt><mn>7</mn></msqrt><mo>&lt;</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">2.5&lt;\sqrt{7}&lt;3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6835em; vertical-align: -0.0391em;"></span><span class="mord">2.5</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1.04em; vertical-align: -0.1328em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.9072em;"><span class="svg-align" style="top: -3em;"><span class="pstrut" style="height: 3em;"></span><span class="mord" style="padding-left: 0.833em;"><span class="mord">7</span></span></span><span class="" style="top: -2.8672em;"><span class="pstrut" style="height: 3em;"></span><span class="hide-tail" style="min-width: 0.853em; height: 1.08em;"><svg width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.1328em;"><span class=""></span></span></span></span></span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">3</span></span></span></span></span> и т.д. <br>
                </txt>
                <txt>У меня получился вот такой код:</txt>
                <!-- Thanks to DeepSeek -->
                <pre class="code"><span class="ckw">fn</span> <span class="cfn">sqrt</span>(<span class="cfn">a</span>: <span class="ctype">f32</span>, <span class="cfn">iter</span>: <span class="ctype">usize</span>) -&gt; <span class="ctype">f32</span> {
    <span class="ckw">if</span> <span class="cfn">a</span> <span class="snum">&lt;</span> <span class="snum">0.0</span> {
        <span class="ckw">panic!</span>(<span class="cstr">"Negative square root"</span>); <span class="ccomment">// при отрицательных значениях</span>
    }
    <span class="ckw">if</span> <span class="cfn">a</span> <span class="snum">==</span> <span class="snum">0.0</span> <span class="snum">||</span> <span class="cfn">a</span> <span class="snum">==</span> <span class="snum">1.0</span> {
        <span class="ckw">return</span> <span class="cfn">a</span>;
    }

    <span class="ckw">let</span> <span class="ckw">mut</span> <span class="cfn">max</span> <span class="snum">=</span> <span class="snum">0.0</span>;
    <span class="ckw">while</span> <span class="cfn">max</span> <span class="snum">*</span> <span class="cfn">max</span> <span class="snum">&lt;</span> <span class="cfn">a</span> {
        <span class="cfn">max</span> <span class="snum">+=</span> <span class="snum">1.0</span>;
    }

    <span class="ckw">let</span> <span class="ckw">mut</span> <span class="cfn">min</span> <span class="snum">=</span> <span class="cfn">max</span> <span class="snum">-</span> <span class="snum">1.0</span>;
    <span class="ckw">for</span> <span class="cfn">_</span> <span class="ckw">in</span> <span class="snum">0..iter</span> {
        <span class="ckw">let</span> <span class="cfn">x</span> <span class="snum">=</span> (<span class="cfn">max</span> <span class="snum">+</span> <span class="cfn">min</span>) <span class="snum">/</span> <span class="snum">2.0</span>;

        <span class="ckw">if</span> <span class="cfn">x</span> <span class="snum">*</span> <span class="cfn">x</span> <span class="snum">==</span> <span class="cfn">a</span> {
            <span class="ckw">return</span> <span class="cfn">x</span>;
        } <span class="ckw">else</span> <span class="ckw">if</span> <span class="cfn">x</span> <span class="snum">*</span> <span class="cfn">x</span> <span class="snum">&gt;</span> <span class="cfn">a</span> {
            <span class="cfn">max</span> <span class="snum">=</span> <span class="cfn">x</span>;
        } <span class="ckw">else</span> {
            <span class="cfn">min</span> <span class="snum">=</span> <span class="cfn">x</span>;
        }
    }

    (<span class="cfn">min</span> <span class="snum">+</span> <span class="cfn">max</span>) <span class="snum">/</span> <span class="snum">2.0</span>
}
    </pre>
            <h3>Метод Ньютона</h3>
                <txt>
                    Чтобы понять суть этого пути, нужно рассмотреть вот такое тождество:
                </txt>
                <span><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mfrac><mi>a</mi><msqrt><mi>a</mi></msqrt></mfrac><mo>=</mo><mfrac><msup><mi>a</mi><mn>1</mn></msup><msup><mi>a</mi><mn>0.5</mn></msup></mfrac><mo>=</mo><msup><mi>a</mi><mrow><mn>1</mn><mo>−</mo><mn>0.5</mn></mrow></msup><mo>=</mo><msup><mi>a</mi><mn>0.5</mn></msup><mo>=</mo><msqrt><mi>a</mi></msqrt></mrow><annotation encoding="application/x-tex">\frac{a}{\sqrt a}=\frac{a^1}{a^{0.5}}=a^{1-0.5}=a^{0.5}=\sqrt a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 2.0376em; vertical-align: -0.93em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.1076em;"><span class="" style="top: -2.3097em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.8003em;"><span class="svg-align" style="top: -3em;"><span class="pstrut" style="height: 3em;"></span><span class="mord mathnormal" style="padding-left: 0.833em;">a</span></span><span class="" style="top: -2.7603em;"><span class="pstrut" style="height: 3em;"></span><span class="hide-tail" style="min-width: 0.853em; height: 1.08em;"><svg width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.2397em;"><span class=""></span></span></span></span></span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.677em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord mathnormal">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.93em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 2.1771em; vertical-align: -0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.4911em;"><span class="" style="top: -2.314em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.7401em;"><span class="" style="top: -2.989em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">0.5</span></span></span></span></span></span></span></span></span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.677em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.686em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.8641em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8641em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mbin mtight">−</span><span class="mord mtight">0.5</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.8641em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8641em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">0.5</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1.04em; vertical-align: -0.1908em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.8492em;"><span class="svg-align" style="top: -3em;"><span class="pstrut" style="height: 3em;"></span><span class="mord mathnormal" style="padding-left: 0.833em;">a</span></span><span class="" style="top: -2.8092em;"><span class="pstrut" style="height: 3em;"></span><span class="hide-tail" style="min-width: 0.853em; height: 1.08em;"><svg width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.1908em;"><span class=""></span></span></span></span></span></span></span></span></span></span>
                <txt>
                    У приближения и отношения числа к нему можно взять среднее и быстро приближаться к результату. Этот алгоритм также можно
                    описать через прогрессию:
                </txt>
                <span><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>x</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><mfrac><mn>1</mn><mn>2</mn></mfrac><mo stretchy="false">(</mo><msub><mi>x</mi><mi>n</mi></msub><mo>+</mo><mfrac><mi>a</mi><msub><mi>x</mi><mi>n</mi></msub></mfrac><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">x_{n+1}=\frac{1}{2}(x_n+\frac{a}{x_n})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6389em; vertical-align: -0.2083em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3011em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.2083em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 2.0074em; vertical-align: -0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.3214em;"><span class="" style="top: -2.314em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">2</span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.677em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.686em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.1514em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1.9436em; vertical-align: -0.836em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.1076em;"><span class="" style="top: -2.314em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.1514em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.677em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord mathnormal">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.836em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span></span></span></span></span></span>
                <pre class="code"><span class="ckw">fn</span> <span class="cfn">sqrt</span>(<span class="cfn">a</span>: <span class="ctype">f32</span>, <span class="cfn">iter</span>: <span class="ctype">usize</span>) -&gt; <span class="ctype">f32</span> {
    <span class="ckw">if</span> <span class="cfn">a</span> <span class="snum">&lt;</span> <span class="snum">0.0</span> {
        <span class="ckw">panic!</span>(<span class="cstr">"Negative square root"</span>); <span class="ccomment">// при отрицательных значениях</span>
    }
    <span class="ckw">if</span> <span class="cfn">a</span> <span class="snum">==</span> <span class="snum">0.0</span> <span class="snum">||</span> <span class="cfn">a</span> <span class="snum">==</span> <span class="snum">1.0</span> {
        <span class="ckw">return</span> <span class="cfn">a</span>;
    }

    <span class="ckw">let</span> <span class="ckw">mut</span> <span class="cfn">x</span> <span class="snum">=</span> <span class="snum">0.0</span>;
    <span class="ckw">while</span> <span class="cfn">x</span> <span class="snum">*</span> <span class="cfn">x</span> <span class="snum">&lt;</span> <span class="cfn">a</span> {
        <span class="cfn">x</span> <span class="snum">+=</span> <span class="snum">1.0</span>;
    }

    <span class="ckw">for</span> <span class="cfn">_</span> <span class="ckw">in</span> <span class="snum">0..iter</span> {
        <span class="cfn">x</span> <span class="snum">=</span> <span class="snum">0.5</span> <span class="snum">*</span> (<span class="cfn">x</span> <span class="snum">+</span> <span class="cfn">a</span> <span class="snum">/</span> <span class="cfn">x</span>);
    }

    <span class="ckw">return</span> <span class="cfn">x</span>;
}
    </pre>
            <h2>Тригонометрические функции</h2>
            <h3>Синус и косинус</h3>
                <txt>Тут я решил обойтись рядом Тейлора и взял 6 членов.</txt>
                <pre class="code"><span class="ckw">fn</span> <span class="cfn">sin</span>(<span class="cfn">a</span>: <span class="ctype">f32</span>) -&gt; <span class="ctype">f32</span> {
    <span class="ckw">let</span> <span class="cfn">aa</span> <span class="snum">=</span> <span class="cfn">a</span> <span class="snum">*</span> <span class="cfn">a</span>;
    <span class="ckw">return</span> <span class="cfn">a</span> <span class="snum">-</span> <span class="cfn">a</span> <span class="snum">*</span> <span class="cfn">aa</span> <span class="snum">/</span> <span class="snum">6.0</span> <span class="snum">+</span> <span class="cfn">a</span> <span class="snum">*</span> <span class="cfn">aa</span> <span class="snum">*</span> <span class="cfn">aa</span> <span class="snum">/</span> <span class="snum">120.0</span> <span class="snum">-</span>
           <span class="cfn">a</span> <span class="snum">*</span> <span class="cfn">aa</span> <span class="snum">*</span> <span class="cfn">aa</span> <span class="snum">*</span> <span class="cfn">aa</span> <span class="snum">/</span> <span class="snum">5040.0</span> <span class="snum">+</span> <span class="cfn">a</span> <span class="snum">*</span> <span class="cfn">aa</span> <span class="snum">*</span> <span class="cfn">aa</span> <span class="snum">*</span> <span class="cfn">aa</span> <span class="snum">*</span> <span class="cfn">aa</span> <span class="snum">/</span> <span class="snum">362880.0</span>
           <span class="snum">-</span> <span class="cfn">a</span> <span class="snum">*</span> <span class="cfn">aa</span> <span class="snum">*</span> <span class="cfn">aa</span> <span class="snum">*</span> <span class="cfn">aa</span> <span class="snum">*</span> <span class="cfn">aa</span> <span class="snum">*</span> <span class="cfn">aa</span> <span class="snum">/</span> <span class="snum">39916800.0</span>;
}

<span class="ckw">fn</span> <span class="cfn">cos</span>(<span class="cfn">a</span>: <span class="ctype">f32</span>) -&gt; <span class="ctype">f32</span> {
    <span class="ckw">let</span> <span class="cfn">aa</span> <span class="snum">=</span> <span class="cfn">a</span> <span class="snum">*</span> <span class="cfn">a</span>;
    <span class="ckw">return</span> <span class="snum">1.0</span> <span class="snum">-</span> <span class="cfn">aa</span> <span class="snum">/</span> <span class="snum">2.0</span> <span class="snum">+</span> <span class="cfn">aa</span> <span class="snum">*</span> <span class="cfn">aa</span> <span class="snum">/</span> <span class="snum">24.0</span> <span class="snum">-</span> <span class="cfn">aa</span> <span class="snum">*</span> <span class="cfn">aa</span> <span class="snum">*</span> <span class="cfn">aa</span> <span class="snum">/</span> <span class="snum">720.0</span> <span class="snum">+</span>
           <span class="cfn">aa</span> <span class="snum">*</span> <span class="cfn">aa</span> <span class="snum">*</span> <span class="cfn">aa</span> <span class="snum">*</span> <span class="cfn">aa</span> <span class="snum">/</span> <span class="snum">40320.0</span> <span class="snum">-</span> <span class="cfn">aa</span> <span class="snum">*</span> <span class="cfn">aa</span> <span class="snum">*</span> <span class="cfn">aa</span> <span class="snum">*</span> <span class="cfn">aa</span> <span class="snum">*</span> <span class="cfn">aa</span> <span class="snum">/</span> 
           <span class="snum">3628800.0</span> <span class="snum">+</span> <span class="cfn">aa</span> <span class="snum">*</span> <span class="cfn">aa</span> <span class="snum">*</span> <span class="cfn">aa</span> <span class="snum">*</span> <span class="cfn">aa</span> <span class="snum">*</span> <span class="cfn">aa</span> <span class="snum">*</span> <span class="cfn">aa</span> <span class="snum">/</span> <span class="snum">479001600.0</span>;
}
    </pre>
            <h3>Тангенс и котангенс</h3>
                <txt>
                    В этом случае можно обойтись делением прошлых функций на себя, но это может быть не так быстро, как я хочу. Я нашел вот 
                    такую реализацию:
                </txt>
                <pre class="code"><span class="ckw">fn</span> <span class="cfn">tan</span>(<span class="cfn">a</span>: <span class="ctype">f32</span>) -&gt; <span class="ctype">f32</span> {
    <span class="ckw">let</span> <span class="cfn">aa</span> <span class="snum">=</span> <span class="cfn">a</span> <span class="snum">*</span> <span class="cfn">a</span>;
    <span class="ckw">let</span> <span class="ckw">mut</span> <span class="cfn">term</span> <span class="snum">=</span> <span class="cfn">a</span>;
    <span class="ckw">let</span> <span class="ckw">mut</span> <span class="cfn">result</span> <span class="snum">=</span> <span class="cfn">a</span>;

    <span class="ckw">for</span> <span class="cfn">n</span> <span class="ckw">in</span> <span class="snum">1..7</span> {
        <span class="cfn">term</span> <span class="snum">*=</span> <span class="snum">-</span><span class="cfn">aa</span> <span class="snum">*</span> (<span class="snum">2</span> <span class="snum">*</span> <span class="cfn">n</span> <span class="snum">-</span> <span class="snum">1</span>) <span class="snum">/</span> (<span class="snum">2</span> <span class="snum">*</span> <span class="cfn">n</span> <span class="snum">+</span> <span class="snum">1</span>);
        <span class="cfn">result</span> <span class="snum">+=</span> <span class="cfn">term</span>;
    }

    <span class="ckw">return</span> <span class="cfn">result</span>;
}
    </pre>
                <txt>
                    Функцию котангенса <s>мне лень писать</s> можно реализовать на основе функции тангенса с минимальными затратами:
                </txt>
                <pre class="code"><span class="ckw">fn</span> <span class="cfn">cot</span>(<span class="cfn">a</span>: <span class="ctype">f32</span>) -&gt; <span class="ctype">f32</span> {
    <span class="ckw">return</span> <span class="snum">1.0</span> <span class="snum">/</span> <span class="cfn">tan</span>(<span class="cfn">a</span>);
}
    </pre>
            <h2>Логарифмы</h2>
            <h3>Натуральный логарифм</h3>
                <txt>
                    Я решил использовать обычный ряд и немного его улучшить. Чем будет число ближе к точке Абеля (1), тем точнее результат. 
                    По свойству логарифмов <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ln</mi><mo>⁡</mo><mo stretchy="false">(</mo><msup><mi>a</mi><mi>b</mi></msup><mo stretchy="false">)</mo><mo>=</mo><mi>b</mi><mo>⋅</mo><mi>ln</mi><mo>⁡</mo><mi>a</mi></mrow><annotation encoding="application/x-tex">\ln(a^b)=b\cdot\ln a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1.0991em; vertical-align: -0.25em;"></span><span class="mop">ln</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8491em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mop">ln</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal">a</span></span></span></span></span> можно двигать <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">a</span></span></span></span></span> к единице таким образом: 
                </txt>
                <span><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>ln</mi><mo>⁡</mo><mi>a</mi><mo>=</mo><mi>ln</mi><mo>⁡</mo><mo stretchy="false">(</mo><mo stretchy="false">(</mo><msqrt><mi>a</mi></msqrt><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo stretchy="false">)</mo><mo>=</mo><mn>2</mn><mo>⋅</mo><mi>ln</mi><mo>⁡</mo><mo stretchy="false">(</mo><msqrt><mi>a</mi></msqrt><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">
                    \ln a=\ln((\sqrt{a})^2)=2\cdot\ln(\sqrt a)
                </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mop">ln</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1.1141em; vertical-align: -0.25em;"></span><span class="mop">ln</span><span class="mopen">((</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.8492em;"><span class="svg-align" style="top: -3em;"><span class="pstrut" style="height: 3em;"></span><span class="mord" style="padding-left: 0.833em;"><span class="mord mathnormal">a</span></span></span><span class="" style="top: -2.8092em;"><span class="pstrut" style="height: 3em;"></span><span class="hide-tail" style="min-width: 0.853em; height: 1.08em;"><svg width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.1908em;"><span class=""></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8641em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">2</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1.0992em; vertical-align: -0.25em;"></span><span class="mop">ln</span><span class="mopen">(</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.8492em;"><span class="svg-align" style="top: -3em;"><span class="pstrut" style="height: 3em;"></span><span class="mord mathnormal" style="padding-left: 0.833em;">a</span></span><span class="" style="top: -2.8092em;"><span class="pstrut" style="height: 3em;"></span><span class="hide-tail" style="min-width: 0.853em; height: 1.08em;"><svg width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.1908em;"><span class=""></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></span>
                <txt>
                    Таким образом можно ввести число в рамки с максимально точными результатами, для <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0.6</mn><mo>&lt;</mo><mi>x</mi><mo>&lt;</mo><mn>1.4</mn></mrow><annotation encoding="application/x-tex">0.6&lt;x&lt;1.4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6835em; vertical-align: -0.0391em;"></span><span class="mord">0.6</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.5782em; vertical-align: -0.0391em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1.4</span></span></span></span></span> будет 12 членов ряда.
                </txt>
                <pre class="code"><span class="ckw">fn</span> <span class="cfn">ln</span>(<span class="cfn">x</span>: <span class="ctype">f32</span>) -&gt; <span class="ctype">f32</span> {
    <span class="ckw">if</span> <span class="cfn">x</span> <span class="snum">&lt;=</span> <span class="snum">0.0</span> {
        <span class="ckw">panic!</span>(<span class="cstr">"Unpositive logarithm"</span>);
    }

    <span class="ckw">let</span> <span class="ckw">mut</span> <span class="cfn">mx</span> <span class="snum">=</span> <span class="cfn">x</span>;
    <span class="ckw">let</span> <span class="ckw">mut</span> <span class="cfn">mp</span> <span class="snum">=</span> <span class="snum">1.0</span>;

    <span class="ckw">while</span> <span class="cfn">mx</span> <span class="snum">&gt;</span> <span class="snum">1.4</span> <span class="snum">||</span> <span class="cfn">mx</span> <span class="snum">&lt;</span> <span class="snum">0.6</span> { <span class="ccomment">// запираю в рамки</span>
        <span class="cfn">mp</span> <span class="snum">*=</span> <span class="snum">2.0</span>;
        <span class="cfn">mx</span> <span class="snum">=</span> <span class="cfn">sqrt</span>(<span class="cfn">mx</span>);
    }

    <span class="cfn">mx</span> <span class="snum">-=</span> <span class="snum">1.0</span>; <span class="ccomment">// вычитаю 1, так как в ряде ln(1+x)</span>

    <span class="ckw">return</span> <span class="cfn">mp</span> <span class="snum">*</span> (<span class="cfn">mx</span>
        <span class="snum">-</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">/</span> <span class="snum">2.0</span>
        <span class="snum">+</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">/</span> <span class="snum">3.0</span>
        <span class="snum">-</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">/</span> <span class="snum">4.0</span>
        <span class="snum">+</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">/</span> <span class="snum">5.0</span>
        <span class="snum">-</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">/</span> <span class="snum">6.0</span>
        <span class="snum">+</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">/</span> <span class="snum">7.0</span>
        <span class="snum">-</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">/</span> <span class="snum">8.0</span>
        <span class="snum">+</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">/</span> <span class="snum">9.0</span>
        <span class="snum">-</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">/</span> <span class="snum">10.0</span>
        <span class="snum">+</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">/</span> <span class="snum">11.0</span>
        <span class="snum">-</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">*</span> <span class="cfn">mx</span> <span class="snum">/</span> <span class="snum">12.0</span>);
}
    </pre>
            <h3>Логарифм с произвольным основанием</h3>
                <txt>
                    Здесь можно использовать 1 свойство и максимально упростить функцию <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mi>b</mi></msub><mi>a</mi><mo>=</mo><mfrac><mrow><mi>ln</mi><mo>⁡</mo><mi>a</mi></mrow><mrow><mi>ln</mi><mo>⁡</mo><mi>b</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">\log_b a=\frac{\ln a}{\ln b}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.9386em; vertical-align: -0.2441em;"></span><span class="mop"><span class="mop">lo<span style="margin-right: 0.0139em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.242em;"><span class="" style="top: -2.4559em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.2441em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1.2251em; vertical-align: -0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.8801em;"><span class="" style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mtight">l</span><span class="mtight">n</span></span><span class="mspace mtight" style="margin-right: 0.1952em;"></span><span class="mord mathnormal mtight">b</span></span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.394em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mtight">l</span><span class="mtight">n</span></span><span class="mspace mtight" style="margin-right: 0.1952em;"></span><span class="mord mathnormal mtight">a</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.345em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span>
                </txt>
                <pre class="code"><span class="ckw">fn</span> <span class="cfn">log</span>(<span class="cfn">a</span>: <span class="ctype">f32</span>, <span class="cfn">b</span>: <span class="ctype">f32</span>) -&gt; <span class="ctype">f32</span> {
    <span class="ckw">if</span> <span class="cfn">b</span> <span class="snum">==</span> <span class="snum">1.0</span> {
        <span class="ckw">panic!</span>(<span class="cstr">"logarithm base is 1"</span>);
    }
    <span class="ckw">if</span> <span class="cfn">a</span> <span class="snum">==</span> <span class="snum">1.0</span> {
        <span class="ckw">return</span> <span class="snum">0.0</span>;
    }
    <span class="ckw">if</span> <span class="cfn">a</span> <span class="snum">==</span> <span class="cfn">b</span> {
        <span class="ckw">return</span> <span class="snum">1.0</span>;
    }

    <span class="ccomment">// защиты от отрицательных значений не будет, <br>ведь она есть в прошлой функции</span>
    <span class="ckw">return</span> <span class="cfn">ln</span>(<span class="cfn">a</span>) <span class="snum">/</span> <span class="cfn">ln</span>(<span class="cfn">b</span>);
}
    </pre>
            <h2>Заключение</h2>
                <txt>У нас получилось создать небольшую математическую библиотеку на Rust.</txt>
                <txt></txt>

</div></body></html>